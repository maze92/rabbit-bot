<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Ozark Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
  <div id="loginScreen" class="login-screen hidden">
    <div class="login-card">
      <h1 data-i18n="login_title">Login</h1>
      <p class="login-subtitle" data-i18n="login_subtitle">Autentica-te para aceder ao painel.</p>
      <form id="loginForm">
        <div class="field">
          <label for="loginUsername" data-i18n="login_username_label">Utilizador</label>
          <input id="loginUsername" class="input" autocomplete="username" />
        </div>
        <div class="field">
          <label for="loginPassword" data-i18n="login_password_label">Password</label>
          <input id="loginPassword" type="password" class="input" autocomplete="current-password" />
        </div>
        <button type="submit" class="btn" id="loginSubmitBtn" data-i18n="login_submit">Entrar</button>
        <div class="login-error" id="loginError"></div>
      </form>
    </div>
  </div>

  <div class="app" id="appRoot">
    <!-- Top bar -->
    <header class="topbar">
      <div class="topbar-left">
        <div class="logo">Ozark<span>Bot</span></div>
        <div class="divider"></div>
        <div class="top-info">
          <div data-i18n="app_subtitle">Painel de gest√£o e modera√ß√£o</div>
        </div>
      </div>
      <div class="topbar-right">
        <select id="guildPicker" class="select">
          <option value="" data-i18n="select_guild">Selecione um servidor</option>
        </select>

        <select id="langPicker" class="select" title="Idioma">
          <option value="pt">üáµüáπ PT</option>
          <option value="en">üá¨üáß EN</option>
        </select>

        <span class="badge" id="badgeBot" data-i18n="badge_bot_online">‚óè Bot online</span>
      </div>
    </header>

    <!-- Tabs -->
    <div class="tabs" id="tabs">
      <button class="tab active" data-tab="overview" data-i18n="tab_overview">Vis√£o geral</button>
      <button class="tab" data-tab="logs" data-i18n="tab_logs">Modera√ß√£o</button>
      <button class="tab" data-tab="gamenews" data-i18n="tab_gamenews">GameNews</button>
      <button class="tab" data-tab="user" data-i18n="tab_user">Utilizadores</button>
      <button class="tab" data-tab="config" data-i18n="tab_config">Configura√ß√£o</button>
    </div>

    <!-- Aviso quando n√£o h√° servidor selecionado -->
    <div id="tabWarning" class="tab-warning" data-i18n="warn_select_guild">
      Selecione um servidor para aceder √†s restantes sec√ß√µes.
    </div>

    <!-- Sections -->
    <main class="sections">
      <!-- Overview -->
      <section class="section active" id="tab-overview">
        <div class="card">
          <h2 data-i18n="overview_title">Vis√£o geral</h2>
          <p class="hint" data-i18n="overview_hint">
            Resumo de alto n√≠vel sobre o estado do bot, servidores ligados e atividade recente.
          </p>
          <div class="grid-3">
            <div class="kpi">
              <div class="kpi-label" data-i18n="kpi_guilds">Servidores ligados</div>
              <div class="kpi-value" id="kpiGuilds">‚Äî</div>
            </div>
            <div class="kpi">
              <div class="kpi-label" data-i18n="kpi_users">Utilizadores monitorizados</div>
              <div class="kpi-value" id="kpiUsers">‚Äî</div>
            </div>
            <div class="kpi">
              <div class="kpi-label" data-i18n="kpi_actions_24h">A√ß√µes de modera√ß√£o (√∫ltimas 24h)</div>
              <div class="kpi-value" id="kpiActions24h">‚Äî</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Logs / Modera√ß√£o -->
      <section class="section" id="tab-logs">
        <div class="card">
          <h2 data-i18n="logs_title">Hub de modera√ß√£o</h2>
          <p class="hint" data-i18n="logs_hint">
            Consulta centralizada de avisos, mutes, bans e restantes a√ß√µes de modera√ß√£o.
          </p>
          
          
          
          <div class="user-layout moderation-panels" id="moderationOverviewLayout">
            <div class="user-detail mini-panel" id="modServerInsightsPanel">
              <div class="mini-panel-header">
                <div>
                  <h3 data-i18n="logs_server_insights_title">An√°lises do Servidor</h3>
                  <p class="hint" data-i18n="logs_server_insights_hint">
                    Resumo r√°pido das a√ß√µes de modera√ß√£o.
                  </p>
                </div>
              </div>
              <div class="chips" id="modServerInsightsRange">
                  <button class="chip chip-active" data-range="24h">24h</button>
                  <button class="chip" data-range="7d">7d</button>
                  <button class="chip" data-range="30d">30d</button>
                  <button class="chip" data-range="1y">1 ano</button>
              </div>
              <div id="modServerInsightsContent">
                <div class="empty" data-i18n="logs_server_insights_empty">
                  Ainda n√£o existem dados de modera√ß√£o no per√≠odo selecionado.
                </div>
              </div>
            </div>

            <div class="user-detail mini-panel" id="modTicketsPanel">
              <div class="mini-panel-header">
                <div>
                  <h3 data-i18n="logs_tickets_panel_title">An√°lises de Tickets</h3>
                  <p class="hint" data-i18n="logs_tickets_panel_hint">
                    Vista dos tickets recebidos por per√≠odo.
                  </p>
                </div>
              </div>
              <div class="chips" id="modTicketsRange">
                  <button class="chip chip-active" data-range="24h">24h</button>
                  <button class="chip" data-range="7d">7d</button>
                  <button class="chip" data-range="30d">30d</button>
                  <button class="chip" data-range="1y">1 ano</button>
              </div>
              <ul class="simple-list" id="modTicketsList">
                <li class="empty" data-i18n="logs_tickets_panel_empty">
                  N√£o existem tickets no per√≠odo selecionado.
                </li>
              </ul>
              <div class="pagination pagination-small">
                <button class="btn btn-ghost" id="modTicketsPrevPage">&laquo;</button>
                <button class="btn btn-ghost" id="modTicketsNextPage">&raquo;</button>
              </div>
            </div>

            <div class="user-detail mini-panel" id="modTopOnlinePanel">
              <h3 data-i18n="logs_top_online_title">Registo de Utilizadores Online</h3>
              <p class="hint" data-i18n="logs_top_online_hint">
                Vista r√°pida dos utilizadores mais presentes no servidor.
              </p>
              <div class="chips" id="modTopOnlineRange">
                <button class="chip chip-active" data-range="24h">24h</button>
                <button class="chip" data-range="7d">7d</button>
                <button class="chip" data-range="30d">30d</button>
                <button class="chip" data-range="1y">1 ano</button>
              </div>
              <ul class="simple-list" id="modTopOnlineList">
                <li class="empty" data-i18n="logs_top_online_soon">
                  Em breve: painel alimentado por dados reais de presen√ßa.
                </li>
              </ul>
            </div>
          </div>
          <div class="user-detail mini-panel" id="modServerRecordsPanel">
          <h3 data-i18n="logs_server_records_title">Registos do Servidor</h3>
          <p class="hint" data-i18n="logs_server_records_hint">
            Resumo r√°pido das a√ß√µes de modera√ß√£o nas √∫ltimas 24 horas.
          </p>
          <div class="row gap">
            <input
              id="logSearch"
              class="input"
              data-i18n-placeholder="logs_search_placeholder"
              placeholder="Procurar por utilizador, moderador ou detalhe do log"
            >
            <select id="logType" class="select">
              <option value="" data-i18n="logs_filter_all">Todos os tipos</option>
              <option value="warn">Warn</option>
              <option value="mute">Mute</option>
              <option value="unmute">Unmute</option>
              <option value="kick">Kick</option>
              <option value="ban">Ban</option>
              <option value="tickets" data-i18n="logs_filter_tickets">Tickets</option>
            </select>
            <select id="logLimit" class="select">
              <option value="10">10</option>
              <option value="25">25</option>
              <option value="50">50</option>
            </select>
            <button class="btn" id="btnReloadLogs" data-i18n="logs_reload">Recarregar</button>
          </div>
          <div id="logsList" class="list">
            <div class="empty" data-i18n="logs_empty">
              N√£o existem registos para o filtro atual.
            </div>
          </div>
          </div>

        </div>
      </section>

      <!-- Tickets -->
            <!-- Extras -->
      <section class="section" id="tab-gamenews">
        <div class="card">
          <h2 data-i18n="extras_title">Extras</h2>
          <p class="hint" data-i18n="extras_hint">
            Ferramentas adicionais do bot: feeds de not√≠cias e voz tempor√°ria.
          </p>

          <div class="subtabs">
            <button class="subtab active" data-subtab="feeds" data-i18n="extras_feeds_tab">Feeds</button>
            <button class="subtab" data-subtab="tempvoice" data-i18n="extras_tempvoice_tab">Voz tempor√°ria</button>
            <button class="subtab" data-subtab="tickets" data-i18n="extras_tickets_tab">Tickets</button>
            <button class="subtab" data-subtab="trust" data-i18n="extras_trust_tab">Trust system</button>
          </div>

          <div class="subtab-panels">
            <div class="subtab-panel active" id="extras-feeds-panel">
<div class="card">
    <h2 data-i18n="gamenews_title">GameNews</h2>
    <p class="hint" data-i18n="gamenews_hint">
      Estado dos feeds de not√≠cias e √∫ltimas publica√ß√µes.
    </p>

    <div class="user-layout gamenews-layout">
      <!-- Lado esquerdo: lista + a√ß√µes gerais -->
      <div>
        <div class="row gap" style="margin-bottom: 8px;">
          <button id="btnAddGameNewsFeed" class="btn xs" type="button" data-i18n="gamenews_add_feed">
            Adicionar
          </button>
        </div>

        <div class="list" id="gamenewsFeedsList">
          <div class="empty" data-i18n="gamenews_editor_empty">
            Nenhum feed de GameNews configurado neste momento.
          </div>
        </div>
      </div>

      <!-- Lado direito: painel de detalhe (como userDetailPanel) -->
      <div class="user-detail gamenews-detail mini-panel" id="gamenewsFeedDetailPanel">
        <div class="empty" data-i18n="gamenews_detail_empty">
          Selecione um feed para ver os detalhes e editar a configura√ß√£o.
        </div>
      </div>
    </div>
  </div>
            </div>

                          <div class="subtab-panel" id="extras-tempvoice-panel">
                <div class="card subcard">
                  <h2 data-i18n="tempvoice_title">Voz tempor√°ria</h2>
                  <p class="hint" data-i18n="tempvoice_hint">
                    Cria canais de voz tempor√°rios por utilizador, que s√£o apagados automaticamente quando ficam vazios.
                  </p>

                  <button id="btnTempVoiceAddBase" class="btn xs" type="button" data-i18n="tempvoice_add_base_btn">
                    Adicionar
                  </button>

                  <div class="user-layout">
                    <div>
                      <div class="list" id="tempVoiceBaseList">
                        <div class="empty" data-i18n="tempvoice_base_list_empty">
                          Ainda n√£o existem canais base configurados.
                        </div>
                      </div>
                    </div>

                    <div class="user-detail mini-panel" id="tempVoiceDetailPanel">
                      <div class="empty" id="tempVoiceDetailEmpty" data-i18n="tempvoice_detail_empty">
                        Selecione um canal base para editar as configura√ß√µes.
                      </div>

                      <div id="tempVoiceDetailContent" style="display:none;">
                        <h3 data-i18n="tempvoice_detail_title">Configura√ß√µes de Canal de Voz Tempor√°rio</h3>
                        <p class="hint" data-i18n="tempvoice_detail_hint">
                          Define o comportamento global das salas tempor√°rias criadas a partir dos canais base.
                        </p>

                        <h4 id="tempVoiceCurrentBaseLabel" class="subtitle" data-i18n="tempvoice_current_base">
                          Canal base: (nenhum selecionado)
                        </h4>

                        <div class="field">
                          <label for="tempVoiceEnabled" data-i18n="tempvoice_enabled_label">Ativar voz tempor√°ria</label>
                          <select id="tempVoiceEnabled" class="select">
                            <option value="false" data-i18n="tempvoice_disabled">Desativado</option>
                            <option value="true" data-i18n="tempvoice_enabled">Ativado</option>
                          </select>
                        </div>

                        <div class="field">
                          <label for="tempVoiceBaseId" data-i18n="tempvoice_base_channels_label">ID do canal base selecionado</label>
                          <input id="tempVoiceBaseId" class="input" placeholder="ID do canal de voz" />
                        </div>

                        <div class="field">
                          <label for="tempVoiceCategoryId" data-i18n="tempvoice_category_label">Categoria para criar salas tempor√°rias</label>
                          <input id="tempVoiceCategoryId" class="input" placeholder="ID da categoria (opcional)" />
                        </div>

                        <div class="field">
                          <label for="tempVoiceDeleteDelay" data-i18n="tempvoice_delete_delay_label">Tempo para apagar sala vazia (segundos)</label>
                          <input id="tempVoiceDeleteDelay" class="input" type="number" min="2" max="600" step="1" />
                        </div>

                        <div class="field" style="margin-top: 16px;">
                          <div class="tempvoice-active-header">
                            <h4 data-i18n="tempvoice_active_title">Salas tempor√°rias ativas</h4>
                            <div class="actions">
                              <button id="btnSaveTempVoice" class="btn xs" type="button" data-i18n="tempvoice_save_btn">
                                Guardar
                              </button>
                              <button id="btnDeleteTempVoiceBase" class="btn xs danger" type="button" data-i18n="tempvoice_delete_btn">
                                Remover
                              </button>
                            </div>
                          </div>
                          <div class="list" id="tempVoiceActiveList">
                            <div class="empty" data-i18n="tempvoice_active_empty">
                              N√£o existem salas tempor√°rias neste momento.
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          
              <div class="subtab-panel" id="extras-tickets-panel">
                <div class="card subcard">
                  <h2 data-i18n="tickets_extras_title">Tickets</h2>
                  <p class="hint" data-i18n="tickets_extras_hint">
                    Configura√ß√£o do canal de suporte e comportamento b√°sico do sistema de tickets.
                  </p>

                  <div class="row gap">
                    <div class="col">
                      <label for="configTicketChannel" data-i18n="config_ticket_channel">Canal de suporte (tickets)</label>
                      <select id="configTicketChannel" class="select"></select>
                      <p class="hint" data-i18n="config_ticket_channel_hint">
                        Canal onde ser√° publicada a mensagem de suporte com o emoji para abrir tickets.
                      </p>
                    </div>
                  </div>

                  <div class="card" style="margin-top:12px;">
                    <h3 data-i18n="tickets_extras_info_title">Como funciona</h3>
                    <p class="hint" data-i18n="tickets_extras_info_body">
                      Quando configuras um canal de suporte, o sistema permite abrir threads de ticket a partir de uma mensagem fixa com o emoji üé´. Cada ticket fica registado e pode ser consultado na tab de modera√ß√£o.
                    </p>
                    <p class="hint" data-i18n="tickets_extras_logs_hint">
                      Esta sec√ß√£o utiliza o sistema de logs de tickets existente. Os registos aparecem em "An√°lises de Tickets" e em "Registos do Servidor" na tab Hub de modera√ß√£o.
                    </p>
                  </div>
                </div>
              </div>
              <div class="subtab-panel" id="extras-trust-panel">
                <div class="card subcard">
                  <h2 data-i18n="extras_trust_title">Sistema de Trust</h2>
                  <p class="hint" data-i18n="extras_trust_hint">
                    Vis√£o geral do sistema de confian√ßa usado para avaliar o risco dos utilizadores com base no seu hist√≥rico.
                  </p>

                  <div class="trust-layout">
                    <div class="trust-form-block">
                      <h4 data-i18n="extras_trust_levels_title">N√≠veis de confian√ßa</h4>
                      <p data-i18n="extras_trust_levels_body">
                        Os utilizadores recebem automaticamente n√≠veis Alto, M√©dio ou Baixo com base nas infra√ß√µes registadas.
                      </p>

                      <div class="trust-form-row">
                        <label for="trustBaseInput" data-i18n="config_trust_base">Base level</label>
                        <input id="trustBaseInput" type="number" class="input" />
                      </div>

                      <div class="trust-form-row">
                        <label data-i18n="config_trust_minmax">Minimum / Maximum</label>
                        <div class="row gap">
                          <input id="trustMinInput" type="number" class="input" style="max-width:90px;" />
                          <input id="trustMaxInput" type="number" class="input" style="max-width:90px;" />
                        </div>
                      </div>

                      <div class="trust-form-row">
                        <label data-i18n="config_trust_penalties">Penalties</label>
                        <div class="row gap">
                          <input id="trustWarnPenaltyInput" type="number" class="input" placeholder="WARN" style="max-width:90px;" />
                          <input id="trustMutePenaltyInput" type="number" class="input" placeholder="MUTE" style="max-width:90px;" />
                        </div>
                      </div>

                      <div class="trust-form-row">
                        <label data-i18n="config_trust_regen">Regeneration</label>
                        <div class="row gap">
                          <input id="trustRegenPerDayInput" type="number" class="input" placeholder="por dia" style="max-width:90px;" />
                          <input id="trustRegenMaxDaysInput" type="number" class="input" placeholder="m√°x. dias" style="max-width:90px;" />
                        </div>
                      </div>

                      <div class="trust-form-row">
                        <label data-i18n="config_trust_risk">Thresholds</label>
                        <div class="row gap">
                          <input id="trustLowThresholdInput" type="number" class="input" placeholder="baixo" style="max-width:90px;" />
                          <input id="trustHighThresholdInput" type="number" class="input" placeholder="alto" style="max-width:90px;" />
                        </div>
                      </div>
                    </div>

                    <div class="trust-preview-block">
                      <h4 data-i18n="config_trust_title">Trust system</h4>
                      <div class="trust-config-grid">
                        <div class="trust-config-item">
                          <div class="label" data-i18n="config_trust_base">Base level</div>
                          <div class="value" id="trustBaseValue">‚Äî</div>
                        </div>
                        <div class="trust-config-item">
                          <div class="label" data-i18n="config_trust_minmax">Minimum / Maximum</div>
                          <div class="value" id="trustMinMaxValue">‚Äî</div>
                        </div>
                        <div class="trust-config-item">
                          <div class="label" data-i18n="config_trust_penalties">Penalties</div>
                          <div class="value" id="trustPenaltiesValue">‚Äî</div>
                        </div>
                        <div class="trust-config-item">
                          <div class="label" data-i18n="config_trust_regen">Regeneration</div>
                          <div class="value" id="trustRegenValue">‚Äî</div>
                        </div>
                        <div class="trust-config-item">
                          <div class="label" data-i18n="config_trust_risk">Thresholds</div>
                          <div class="value" id="trustRiskValue">‚Äî</div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <p class="hint" style="margin-top: 12px;" data-i18n="extras_trust_edit_hint">
                    A configura√ß√£o detalhada continua dispon√≠vel na tab Configura√ß√£o. Estes campos ainda s√£o apenas de pr√©-visualiza√ß√£o; em breve poder√£o ser guardados pela dashboard.
                  </p>
                </div>
              </div>
      </section>


      <!-- Users -->
      <section class="section" id="tab-user">
        <div class="card">
          <h2 data-i18n="users_title">Utilizadores</h2>
          <p class="hint" data-i18n="users_hint">
            Consulta r√°pida de utilizadores e hist√≥rico de modera√ß√£o por utilizador.
          </p>
          <p class="hint users-members" id="usersMemberCount"></p>
          <div class="user-layout">
            <div class="list">
              <div class="empty" data-i18n="users_empty">
                Selecione um servidor para ver utilizadores.
              </div>
            </div>
            <div class="user-detail mini-panel" id="userDetailPanel">
              <div class="empty" data-i18n="users_detail_empty">
                Selecione um utilizador para ver o hist√≥rico de modera√ß√£o e tickets.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Config -->
      <section class="section" id="tab-config">
        <div class="card">
          <h2 data-i18n="config_title">Configura√ß√£o do servidor</h2>
          <p class="hint" data-i18n="config_hint">
            Defina canais, cargos de staff e prefer√™ncias de registo para este servidor.
          </p>

          <div class="config-form">
            <div class="card subcard">
              <h3 data-i18n="config_logs_section_title">Registos e canais de logs</h3>
              <p class="hint" data-i18n="config_logs_section_hint">
                Defina os canais onde ser√£o enviados os registos principais e os logs da pr√≥pria dashboard.
              </p>

            <div class="row gap">
              <div class="col">
                <label for="configLogChannel" data-i18n="config_log_channel">Canal de logs principal</label>
                <select id="configLogChannel" class="select"></select>
              </div>
              <div class="col">
                <label for="configDashboardLogChannel" data-i18n="config_dashboard_log_channel">Canal de logs da dashboard</label>
                <select id="configDashboardLogChannel" class="select"></select>
              </div>
            </div>

            </div>

            <div class="card subcard">
              <h3 data-i18n="config_access_section_title">Acesso e cargos de staff</h3>
              <p class="hint" data-i18n="config_access_section_hint">
                Controla que cargos do Discord podem aceder √† dashboard. No futuro ser√° poss√≠vel gerir utilizadores dedicados.
              </p>

            <div class="row gap" style="margin-top:12px;">
              <div class="col">
                <label for="configStaffRoles" data-i18n="config_staff_roles">Cargos de staff</label>
                <select id="configStaffRoles" class="select" multiple></select>
                <p class="hint" data-i18n="config_staff_roles_hint">
                  Se vazio, s√£o usadas as roles de staff globais definidas no ficheiro de configura√ß√£o.
                </p>
              </div>
            </div>
</div>

            <div style="margin-top:16px; display:flex; justify-content:flex-end; gap:8px;">
              <button type="button" class="btn" id="btnReloadGuildConfig" data-i18n="config_reload">Recarregar</button>
              <button type="button" class="btn primary" id="btnSaveGuildConfig" data-i18n="config_save">Guardar configura√ß√£o</button>
            </div>


            <div id="configStatus" class="hint" style="margin-top:8px;"></div>

                      <div class="card subcard">
  <h3 data-i18n="config_dashboard_users_title">Utilizadores da Dashboard</h3>
  <p class="hint" data-i18n="config_dashboard_users_hint">
    Planeamento de acesso dedicado √† dashboard. Aqui podes criar utilizadores espec√≠ficos e definir permiss√µes sem depender apenas de cargos do Discord.
  </p>

  <div class="dashboard-users-toolbar">
    <div class="left">
      <button type="button" class="btn small" id="btnDashboardUsersReload" data-i18n="config_dashboard_users_reload_button">Recarregar</button>
      <button type="button" class="btn primary small" id="btnDashboardUsersAdd" data-i18n="config_dashboard_users_add_button">Adicionar</button>
    </div>
    <div class="right">
      <span id="dashboardUsersStatus" class="hint"></span>
    </div>
  </div>

  <div id="dashboardUsersList" class="dashboard-users-list">
    <!-- Lista de utilizadores da dashboard -->
  </div>

  <div id="dashboardUsersEditor" class="dashboard-users-editor hidden">
    <h4 id="dashboardUsersEditorTitle" data-i18n="config_dashboard_users_editor_new_title">Novo utilizador</h4>

    <div class="row gap">
      <div class="col">
        <label for="dashboardUserUsername" data-i18n="config_dashboard_users_username">Utilizador</label>
        <input id="dashboardUserUsername" type="text" class="input" />
      </div>
      <div class="col">
        <label for="dashboardUserPassword" data-i18n="config_dashboard_users_password">Password</label>
        <input id="dashboardUserPassword" type="password" class="input" autocomplete="new-password" />
        <p class="hint" id="dashboardUserPasswordHint" data-i18n="config_dashboard_users_password_hint">
          Define uma password para o novo utilizador.
        </p>
      </div>
    </div>

    <div class="row gap" style="margin-top:8px;">
      <div class="col">
        <label for="dashboardUserRole" data-i18n="config_dashboard_users_role">Perfil</label>
        <select id="dashboardUserRole" class="select">
          <option value="MOD" data-i18n="config_dashboard_users_role_mod">Moderador</option>
          <option value="ADMIN" data-i18n="config_dashboard_users_role_admin">Administrador</option>
        </select>
      </div>
      <div class="col">
        <label data-i18n="config_dashboard_users_permissions">Permiss√µes</label>
        <div class="dashboard-users-permissions">
          <label><input type="checkbox" id="permViewLogs" /> <span data-i18n="config_dashboard_users_perm_view_logs">Ver logs</span></label>
          <label><input type="checkbox" id="permActOnCases" /> <span data-i18n="config_dashboard_users_perm_act_on_cases">Agir em casos</span></label>
          <label><input type="checkbox" id="permManageTickets" /> <span data-i18n="config_dashboard_users_perm_manage_tickets">Gerir tickets</span></label>
          <label><input type="checkbox" id="permManageGameNews" /> <span data-i18n="config_dashboard_users_perm_manage_gamenews">Gerir GameNews</span></label>
          <label><input type="checkbox" id="permViewConfig" /> <span data-i18n="config_dashboard_users_perm_view_config">Ver configura√ß√£o</span></label>
          <label><input type="checkbox" id="permEditConfig" /> <span data-i18n="config_dashboard_users_perm_edit_config">Editar configura√ß√£o</span></label>
          <label><input type="checkbox" id="permManageUsers" /> <span data-i18n="config_dashboard_users_perm_manage_users">Gerir utilizadores</span></label>
        </div>
      </div>
    </div>

    <div class="dashboard-users-editor-actions">
      <button type="button" class="btn" id="btnDashboardUsersCancel" data-i18n="common_cancel">Cancelar</button>
      <button type="button" class="btn primary" id="btnDashboardUsersSave" data-i18n="common_save">Guardar</button>
    </div>
  </div>
</div>

          </div>
        </div>
      </section>
    </main>
  </div>


  <!-- Drawer global para edi√ß√µes detalhadas (utilizadores, tickets, GameNews, etc.) -->
  <div id="drawerOverlay" class="drawer-overlay" style="display:none;">
    <div id="drawerPanel" class="drawer-panel">
      <button type="button" id="drawerCloseBtn" class="drawer-close">&times;</button>
      <div id="drawerContent" class="drawer-content"></div>
    </div>
  </div>

  <script src="/js/i18n.js" defer></script>
<script src="/js/dashboard.js" defer></script>
  <script src="/js/dashboard.users.js" defer></script>
  <script src="/js/dashboard.moderation.js" defer></script>
  <script src="/js/dashboard.gamenews.js" defer></script>

<!-- Moderation Action Modal -->
<div id="modActionModal" class="modal hidden">
  <div class="modal-backdrop"></div>
  <div class="modal-card">
    <h3 id="modActionTitle">Moderation</h3>
    <div class="modal-body">
      <label for="modActionReason">Reason</label>
<input id="modActionReason" type="text" placeholder="" />

      <div id="modActionDurationWrap" class="hidden">
        <label for="modActionDuration">Duration</label>
<input id="modActionDuration" type="text" placeholder="10m, 1h, 1d" />
      </div>
    </div>
    <div class="modal-actions">
      <button id="modActionCancel" class="btn">Cancel</button>
      <button id="modActionConfirm" class="btn primary">Confirm</button>
    </div>
  </div>
</div>

</body>
</html>